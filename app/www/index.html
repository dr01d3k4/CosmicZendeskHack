<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <meta name="msapplication-tap-highlight" content="no" />
        <title>Hello World</title>
        <style type='text/css'>
            #simple_sketch {
                height: 400%;
                width: 100%;
                border: 0.25px solid #000000;
            }
        </style>
    </head>
    <body>
        <div class="app">
            <!-- <h1 id='temp'></h1> -->
        </div>
        <!--><canvas id="simple_sketch"></canvas><!-->
        <script type='text/javascript' src='js/jquery.js'></script>
        <script type='text/javascript' src='js/hammer.js'></script>
        <script type='text/javascript' src='js/sketch.js'></script>
        <script type='text/javascript' src='cordova.js'></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $.get('http://dr01d3k4.pythonanywhere.com/cosmic_hack/get-questions', function(data) {
                      // alert(data);
                });
                var down = false;
                $(document).bind({
                    mousedown : function() {
                        down = true;
                    },
                    mousemove : function() {
                        if (down) {
                                 $(document).mousemove(function(e) {
                                                       linedraw(e.pageX, e.pageY, e.pageX + 10, e.pageY + 10);
                                                       }).mouseover();
                        }
                    },
                    mouseup : function() {
                        down = false;
                    }
                });
            });
            /*$(function() {
                $('#simple_sketch').sketch();
            });*/
            var direction;
            var returnValue;
            var questionNo = 1;
            Hammer(document).on("gesture", function(event) {
                // $('#temp').html(event.gesture.direction);
                if (event.gesture.direction == "up" || event.gesture.direction == "down") {
                    direction = event.gesture.direction;
                }
            });
            Hammer(document).on("release", function(event) {
                if (direction == "up") {
                    returnValue = 1;
                } else {
                    returnValue = 0;
                }
                alert(direction);
//                $.post("http://dr01d3k4.pythonanywhere.com/cosmic_hack/post-numerical-question-answer", {question: questionNo, answer: returnValue}, function(data) {
//                    alert('Success, returned: ' + data);
//                });
            });
            function linedraw(ax,ay,bx,by)
            {
                if(ay>by)
                {
                    bx=ax+bx;
                    ax=bx-ax;
                    bx=bx-ax;
                    by=ay+by;
                    ay=by-ay;
                    by=by-ay;
                }
                var calc=Math.atan((ay-by)/(bx-ax));
                calc=calc*180/Math.PI;
                var length=Math.sqrt((ax-bx)*(ax-bx)+(ay-by)*(ay-by));
                document.body.innerHTML += "<div id='line' style='height:" + length + "px;width:1px;background-color:black;position:absolute;top:" + (ay) + "px;left:" + (ax) + "px;transform:rotate(" + calc + "deg);-ms-transform:rotate(" + calc + "deg);transform-origin:0% 0%;-moz-transform:rotate(" + calc + "deg);-moz-transform-origin:0% 0%;-webkit-transform:rotate(" + calc  + "deg);-webkit-transform-origin:0% 0%;-o-transform:rotate(" + calc + "deg);-o-transform-origin:0% 0%;'></div>"
            }
        </script>
    </body>
</html>